<script type="module">
  // Import the functions you need from the SDKs you need
  import { initializeApp } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js";
  import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-analytics.js";
  // TODO: Add SDKs for Firebase products that you want to use
  // https://firebase.google.com/docs/web/setup#available-libraries

  // Your web app's Firebase configuration
  // For Firebase JS SDK v7.20.0 and later, measurementId is optional
  const firebaseConfig = {
    apiKey: "AIzaSyBvBBJdD2zqWCRkK7NwJsgWJNGsuajYD9I",
    authDomain: "fewnic-0.firebaseapp.com",
    projectId: "fewnic-0",
    storageBucket: "fewnic-0.appspot.com",
    messagingSenderId: "468996832149",
    appId: "1:468996832149:web:58c540fad5c1384312549c",
    measurementId: "G-S5JLN09DE7"
  };

  // Initialize Firebase
  const app = initializeApp(firebaseConfig);
  const analytics = getAnalytics(app);
</script>


<script>
  const messaging = firebase.messaging();

  messaging
    .requestPermission()
    .then(function () {
      console.log("Notification permission granted.");
      return messaging.getToken();
    })
    .then(function (token) {
      console.log("FCM Token:", token);
      // You can send this token to your server to associate it with the user
    })
    .catch(function (error) {
      console.error("Unable to get permission to notify.", error);
    });
</script>


<script>
  if ("serviceWorker" in navigator) {
    window.addEventListener("load", function () {
      navigator.serviceWorker
        .register("/firebase-messaging-sw.js")
        .then(function (registration) {
          console.log("Service Worker registered with scope:", registration.scope);
        })
        .catch(function (error) {
          console.error("Service Worker registration failed:", error);
        });
    });
  }
</script>
